# 2-2 HTTP 协议的前世今生

```js
--------------------1
1990年10月
万维网之父Tim
Berners-Lee最早提出了
HTTP协议
--------------------2
1991年
HTTP0.9诞生
--------------------3
1996年5月
HTTP1.0发布
--------------------4
1997年1月
HTTP1.1发布
--------------------5
2015年5月
HTTP2.0提出
--------------------6
HTTP3.0
QUIC协议
```

## ①1990 年 10 月万维网之父 Tim Berners-Lee 最早提出了 HTTP 协议

在上一小节，我们更多的了解了一些 HTTP 协议的全名和一些基础信息，这还远远不够，作为一个合格的介绍人，还要介绍一下 HTTP 协议的生平经历。

那我们就从 HTTP 协议的诞生开始聊起。

那 HTTP 协议最早是由万维网之父 Tim Berners-Lee 来提出的。Tim 当时在 CERN 这个机构担任研究员的时候，在 1989 年 3 月，提交了一个提案——《关于信息管理》的提案，在提案中描绘了他对于万维网最初的设想，他希望能够在 CERN 里边内部建立一个这样的网络，满足内部信息交换的需求；不过在当时这份提案并没有被 CERN 所重视，好在当时 Tim 的经理仍然给了他一段时间来完善这个方案。但是 Tim 就被称为万维网之父，是一定没有因此而放弃的；所以到了 1990 年 10 月，Tim 完成了万维网三大基础技术的设想，包括命名方案 URI、通信协议 HTTP、还有用来表达/表示信息的标记语言 HTML；根据这些设计，实现了一个 Web Server 和一个浏览器——实现了一个服务器和一个客户端；当时这个 Web Server 叫 http，浏览器叫做万维网，也就是 world wide web.app 这样的一个整套初始化的一个 http 的一个东西；到 1990 年底，第一个网页已经能够在 CERN 内部的网络上/互联网上浏览；这个时候还没有所谓的版本。

## ②1991 年 HTTP0.9 诞生

到了 1991 年 Tim 根据之前的这些实现，写了一个 http 协议的文章，这篇文章我们后来就看作 http 的 0.9 版本，但实际上，这篇文章很难称得上是一个标准的协议；并非出自某个标准化的组织，只是 Tim 的个人作品，用来解释它在之前实现的程序里的通信过程。

鉴于 Tim 对于万维网的开创性贡献，所以人们把它的这篇关于 http 协议的文章作为 http 的第一版标准；短而简单，只有四个小节，和后面 http 文档不能相提并论；

它规定了 HTTP 使用 TCP/IP 连接，HTTP 请求在当时只有一个请求方法 get 方法加上一个请求的 uri，HTTP 响应则直接返回 HTML 文本，不像现在还有一个什么码，所以既然只返回一个文本，就没有办法区分错误消息和正常文本；这是最早的 0.9 版本。

## ⭐③1996 年 5 月 HTTP1.0 发布（RFC 1945）

在这之后，万维网经历了一段快速发展但是又非常混乱的时期；

由于 Tim 最初版本的 HTTP 和 HTML 并不是特别完善，也没有办法满足各种应用场景，因此，很多公司和组织，在这个基础之上做了各种扩展，但是这种扩展彼此并不能够兼容，到了 1994 年的时候，万维网之父 Tim 离开了 CERN，成立了一个 W3C 的组织，致力于专门的 HTML 标准化工作。

同年，有另外一个机构叫做 IEFT，它成立了一个工作组，研究改进当时的 HTTP 协议。这个 HTTP 工作组考察了当时市面上很多地方已经有的对于 HTTP 协议的各种实现，综合了其中的一些常见的用法，然后终于在 1996 年 5 月份的时候，发表了一个标准化文档 RFC1945，这就是我们现在说的 HTTP1.0。

HTTP1.0 在 HTTP0.9 的基础之上做了大量的扩充和改进，比如说增加了请求的头域，和响应的头域， 增加了 header 和 post 方法，响应式对象也不局限于必须得是 HTML 文本，也支持了一些长连接，增加了缓存机制，等等就不一一介绍了；这就是 HTTP1.0 它的一个发展。

## ④1997 年 1 月 HTTP1.1 发布

在 RFC1945 发布半年多以后呢，也就到了 1997 年 1 月份，HTTP1.1 的第一个版本叫做 RFC 2068 正式发布了；1999 年 6 月，HTTP1.1 的第二个版本 RFC2616 取代了 RFC2068。

我们可以看到从 1996 年到 1999 年这段时间，HTTP 协议的发展速度是非常非常快的；当然在 RFC2616 发布以后，HTTP 协议其实是进入了一个相对稳定的时期，那这个 HTTP1.1 的版本也是我们现在用的最多的 HTTP 协议版本。

## ⭐⑤2015 年 5 月 HTTP2.0 提出

到了 **2015 年 5 月**的时候，**RFC7540** 也就是我们目前叫做 **HTTP2** 这样的**协议正式发布**。恰好是在**半年前**，在 **2014 年底**的时候，2014 年 10 月份，**W3C 的 HTML 的工作组**发布了 **HTML5 的正式标准**，完成了**长达有 8 年的 HTML5 标准化工作**；

HTTP 和 HTML 这两大万维网的基础技术在经过了从 1996 年到 2015 年将近十年的沉寂之后，完成了最大的一次更新；因为**这次更新非常大**，所以这个**版本号**并**没有**像之前的版本一样**继续使用 1.X 这样的模式**，而是**直接采用 2 这样的大版本**；那我们**可以把它叫做 HTTP2**，也可以叫它 **HTTP2.0**（这没关系）。

**HTTP2 它的主要目标**就在于**提高**我们的**传输性能**，实现我们的**低延迟和高吞吐量**。

HTTP2 其实并没有改动旧的版本的语义、方法、状态码 URL 和头部信息等等等等；所以我们通常认为 HTTP2 是 HTTP1.1 的扩展，而并不是替代；

HTTP1.1 对应的 RFC 文档里，**大部分的内容**对于 **HTTP2 也是适用**的；但 **HTTP2 的文档**里面也**没有将这部分去重新编排**，而是**直接指向了原有 HTTP1.1 相应的 RFC 文档**；

但是由于种种原因，**尽管 HTTP2 发布后**不久，**主流的浏览器和服务端都已经支持**，但是在我们**业界的普及率始终不是太高**；**根据统计**，到现在来说，到 **2019 年底**的时候，**使用 HTTP2 的网站只有不到 30%**，但是**使用到 HTML5 的网站达到了 90%**。

## ⭐⑥HTTP3.0 QUIC 协议

那最近呢，有关于 HTTP3 的协议，这种新闻、八卦消息啊才开始流传，了解一下，介绍 HTTP3 之前，不得不说一下一个协议叫做 QUIC 协议。

QUIC 协议它的全称叫做 Quick UDP Internet Connections，它就是一种传输层的协议，它最早是由谷歌在 2013 年提出来的。

大家都知道目前最主流的传输层协议有两个：一个是 TCP，一个是 UDP；
TCP 协议是面向连接的，在实际通信之前需要建立握手，同时还在每个数据包中增加了序列号的校验，以便我们接收端对数据进行校验。这些我们会在了解 TCP/IP 协议族的时候讲解的。

当然，这些都导致了我们 TCP 的协议的效率比较低。

谷歌提出这样的 QUIC 协议的主要目标，就是减少基于 TCP 通信带来的延迟，还有其他的开销；为此 QUIC 这样的协议就不再用面向连接的机制，而是基于 UDP 这样的协议。采用了像 UDP 一样的面向无连接的一个过程。

但是 UDP 这个东西不是特别可靠；大家知道，如果可靠的话，可能我们的 Tim 最早的时候就采用 UDP。之所以使用这种面向连接的方式，就是为了突出它的可靠性。

所以，谷歌的团队在 UDP 的基础之上做了非常非常大量的改进，试图以 UDP 的效率提供类似 TCP 的可靠性，把二者合二为一。

所以谷歌在 2015 年的时候，也就是 HTTP2.0 刚刚提出的时候，就将 QUIC 提交给了 IETF 来进行标准化；之后又经历了几个版本的修改，但是并没有被采纳。

IETF 在 2016 年专门成立了这样一个 QUIC 的工作组；虽然沿用了 QUIC 协议的名称，但是并没有用谷歌提出的 QUIC 方案，而是自己又重新做了一套。

但是呢，个人觉得这个 QUIC 方案和谷歌的 QUIC 方案并没有什么本质上的区别，只是重新又造了一遍这个名字；后面到了 2016 年 10 月，IETF 提议将现有的他们做出来的，他们叫做 HTTP Over QUIC 更名为 HTTP3，并且在 11 月的会议上进行了一个阐述。

所以 HTTP3 其实就是 IETF 版本的 QUIC，但是它改名之后这么一个协议。

虽然这个进展非常非常快，但是距离它成为我们互联网的标准还有一段非常非常长的路要走；而且，即使 QUIC 这个协议成为了标准，它能否获得市场认可也是很难预料的。所以我们目前谈论 HTTP3 似乎还为时尚早。

这里我们大致了解了一下 HTTP 协议的发展历史，可能大家对 HTTP 协议有了一个大概的了解。

重点我们了解了一下关键时间的关键事件，这就像我们知道了它从哪个小学毕业，考入了哪所中学，又进入了哪所大学；可是它的个人特征上有什么变化，我们还不太清楚。这就需要我这个介绍人出面了。

记得前面我给大家介绍了 HTTP 它的名字的一个意义，名字是父母起名时赋有的深刻的寓意在里面的；所以我们了解人家名字的含义，更有助于了解我们本身，还是十分必要的。

## ⭐HTTP 从出生到成长的历程（0.9 1.0 1.1）（15:53）

那接下来，再换个角度聊一聊 HTTP 从出生到成长的一个人生历程。

### HTTP0.9

前面我们说过了，**1991 年的时候 HTTP0.9 版本（第一个版本）正式诞生**了，当然在发布之前必须怀胎十月（刚刚说过了怎么怀上的，所以这里就不去继续纠结怎么怀上的一个问题，而是纠结生下来之后，都发生了什么。）
**刚出生的 HTTP 还比较年幼**，所以能力不强，**只有一个 get 技能，而且只能传递 HTML 格式的字符串**，比如今天的 **JSON、XML、TEXT 什么的想都别想，毕竟年纪还小**。

所以在 **0.9 版本**，它是比较**弱化的一个协议形式**；而且在这个版本里，**每个 HTTP 请求都是短链接**，当然后面我们再介绍什么是短链接。

### HTTP1.1

时光飞逝，转眼来到 1996 年，此时在 5 年的时间里，HTTP 一边工作一边成长；终于，**HTTP1.0 版本产生**了（小朋友逐渐长大有了更多的社会阅历和见识。）
随之而来的它的**能力也提升了不少，此时的 HTTP 有了更多的技能，像 POST 和 head，拥有了更多的功能性**，比如说耳熟能详的**状态码、缓存、重定向、权限**等等一大堆的内容。

这时的 HTTP 可以说成为了一个可以**支撑起一片天地的一家之主**。

### HTTP1.1

时间慢慢走，又大概过了**半年的时间**，**HTTP 成长是极为迅速**；到了 **1997 年初**，**HTTP1.1 版本就发布**了。这时的 HTTP 发布，其技能更加多；**比如像 OPTIONS、PUT、DELETE、TRACE、connect 等等方法，也引入了现在常用的持久连接、管道机制、分块传输**等等等等。

要知道，**HTTP1.1** 是我们目前为止，**最常用的 HTTP 版本**，而它可以想见的未来，就是刚刚说过的 HTTP2、HTTP3。

但是人虽然要放眼于未来，但是还是着眼于现在比较好；所以我们相亲过程中，还是现实一点，看看 HTTP 协议人这个候选人现在，比如是否有车有房，家里有没有什么人；大家记住，相亲要是不跟你聊这些的介绍人，都不是个实在人。

所以下一节，我们把目光从 HTTP 协议本身离开，来看一看它的亲朋好友的情况。下节见。
